# SPC 分析系统 (Statistical Process Control)

一个功能完整的统计过程控制(SPC)分析Web应用，用于质量管理和过程能力分析。

## 🚀 功能特性

### 📊 控制图分析
- **X-bar & R 图**：均值和极差控制图，适用于子组数据
- **I-MR 图**：单值移动极差控制图，适用于单个测量值
- 实时异常检测（8大判异准则）
- 趋势分析和预警

### 📈 过程能力分析
- **CPK / CP**：短期过程能力指数
- **PPK / PP**：长期过程性能指数
- 合格率统计
- 正态性检验 (Shapiro-Wilk)

### 📉 多种图表展示
- 控制图（X-bar, R, I, MR）
- 直方图（含正态分布拟合）
- 箱线图
- 散点图（含趋势线）
- 彩虹图（多测量值趋势）

### 💾 数据管理
- Excel / CSV 文件导入
- 数据验证和清洗
- 专业SPC报告导出
- 模板下载

### ⚙️ 参数配置
- 规格限设置 (USL/LSL)
- 子组大小配置
- 异常检测规则选择
- 图表类型切换

## 🛠️ 技术栈

- **前端框架**：React 19 + TypeScript
- **构建工具**：Vite 7
- **UI组件库**：Ant Design 6
- **图表库**：ECharts 6 + AG-Grid
- **Excel处理**：SheetJS (xlsx)

## 📦 快速开始

### 安装依赖
```bash
npm install
```

### 开发模式
```bash
npm run dev
# 或使用脚本
bash scripts/dev.sh
```

### 生产构建
```bash
npm run build
# 或使用脚本
bash scripts/build.sh
```

### 预览生产版本
```bash
npm run preview
```

## 📖 使用说明

1. **导入数据**：点击"数据采集"按钮，上传Excel或CSV文件
2. **配置参数**：设置规格上限(USL)、规格下限(LSL)、目标值等
3. **选择图表类型**：X-bar & R 或 I-MR
4. **查看分析结果**：
   - 控制图：查看过程稳定性
   - 过程能力：评估CPK/PPK指标
   - 异常检测：识别异常模式
5. **导出报告**：生成专业SPC分析报告

## 📐 数据格式

### Excel/CSV 格式（多列）
```
时间戳           | 组号 | 测量1 | 测量2 | 测量3 | 测量4 | 测量5
2024-01-01 08:00 | 1    | 10.2  | 10.1  | 10.3  | 10.2  | 10.1
2024-01-01 09:00 | 2    | 10.3  | 10.2  | 10.4  | 10.1  | 10.3
```

### Excel/CSV 格式（单列 - 用于 I-MR）
```
时间戳           | 测量值
2024-01-01 08:00 | 10.2
2024-01-01 09:00 | 10.3
```

### 元数据（可选）
在Excel的任意位置添加：
- USL (规格上限): 11.0
- LSL (规格下限): 9.5
- Target (目标值): 10.25

## 🎯 SPC判异准则

系统支持以下8大判异准则：

1. **准则1**：单点超出控制限 (3σ)
2. **准则2**：连续9点在中心线同侧
3. **准则3**：连续6点递增或递减
4. **准则4**：连续14点交替上下
5. **准则5**：连续3点中有2点在2σ区域（同侧）
6. **准则6**：连续5点中有4点在1σ区域（同侧）
7. **准则7**：连续15点在1σ区域内
8. **准则8**：连续8点不在1σ区域内

## 🌐 在线部署

本项目已部署到 Vercel，访问地址：[待补充]

## 📝 开发计划

- [ ] 实时监控功能
- [ ] 报警管理系统
- [ ] 数据库连接支持
- [ ] 用户权限管理
- [ ] MSA (测量系统分析)
- [ ] 更多统计工具

## 📄 许可证

MIT License

## 👨‍💻 开发者

由 Claude Sonnet 4.5 协助开发

---

⭐ 如果这个项目对你有帮助，请给个Star支持一下！
